{"ast":null,"code":"import _slicedToArray from\"C:/Users/Ayush/Desktop/TinyTales/TinyProject/tiny-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,ResponsiveContainer}from\"recharts\";import\"./SubmitButton.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SubmitButton=function SubmitButton(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),clicked=_useState2[0],setClicked=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),wordCount=_useState6[0],setWordCount=_useState6[1];var handleClick=function handleClick(){setClicked(true);fetch(\"https://www.terriblytinytales.com/test.txt\").then(function(response){return response.text();}).then(function(data){setContent(data);var words=data.toLowerCase().match(/\\b\\S+\\b/g);var wordCountObj={};words.forEach(function(word){wordCountObj[word]=(wordCountObj[word]||0)+1;});var wordCountArr=Object.keys(wordCountObj).map(function(key){return{word:key,count:wordCountObj[key]};}).sort(function(a,b){return b.count-a.count;}).slice(0,20);setWordCount(wordCountArr);}).catch(function(error){return console.log(error);});};var handleExport=function handleExport(){var csvContent=\"data:text/csv;charset=utf-8,\"+wordCount.map(function(row){return\"\".concat(row.word,\",\").concat(row.count);}).join(\"\\n\");var encodedUri=encodeURI(csvContent);var link=document.createElement(\"a\");link.setAttribute(\"href\",encodedUri);link.setAttribute(\"download\",\"histogram-data.csv\");document.body.appendChild(link);link.click();};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:clicked?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:500,children:/*#__PURE__*/_jsxs(BarChart,{data:wordCount,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"word\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"count\",fill:\"#8884d8\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"export\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleExport,children:\"Export Data\"})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"submit\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,children:\"Submit\"})})});};export default SubmitButton;","map":{"version":3,"names":["React","useState","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SubmitButton","_useState","_useState2","_slicedToArray","clicked","setClicked","_useState3","_useState4","content","setContent","_useState5","_useState6","wordCount","setWordCount","handleClick","fetch","then","response","text","data","words","toLowerCase","match","wordCountObj","forEach","word","wordCountArr","Object","keys","map","key","count","sort","a","b","slice","catch","error","console","log","handleExport","csvContent","row","concat","join","encodedUri","encodeURI","link","document","createElement","setAttribute","body","appendChild","click","className","children","width","height","dataKey","strokeDasharray","fill","onClick"],"sources":["C:/Users/Ayush/Desktop/TinyTales/TinyProject/tiny-project/src/SubmitButton.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\nimport \"./SubmitButton.css\";\r\n\r\nconst SubmitButton = () => {\r\n  const [clicked, setClicked] = useState(false);\r\n  const [content, setContent] = useState(\"\");\r\n  const [wordCount, setWordCount] = useState([]);\r\n\r\n  const handleClick = () => {\r\n    setClicked(true);\r\n    fetch(\"https://www.terriblytinytales.com/test.txt\")\r\n      .then((response) => response.text())\r\n      .then((data) => {\r\n        setContent(data);\r\n        const words = data.toLowerCase().match(/\\b\\S+\\b/g);\r\n        const wordCountObj = {};\r\n        words.forEach((word) => {\r\n          wordCountObj[word] = (wordCountObj[word] || 0) + 1;\r\n        });\r\n        const wordCountArr = Object.keys(wordCountObj)\r\n          .map((key) => ({ word: key, count: wordCountObj[key] }))\r\n          .sort((a, b) => b.count - a.count)\r\n          .slice(0, 20);\r\n        setWordCount(wordCountArr);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const handleExport = () => {\r\n    const csvContent =\r\n      \"data:text/csv;charset=utf-8,\" +\r\n      wordCount.map((row) => `${row.word},${row.count}`).join(\"\\n\");\r\n    const encodedUri = encodeURI(csvContent);\r\n    const link = document.createElement(\"a\");\r\n    link.setAttribute(\"href\", encodedUri);\r\n    link.setAttribute(\"download\", \"histogram-data.csv\");\r\n    document.body.appendChild(link);\r\n    link.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {clicked ? (\r\n        <>\r\n          <div className=\"chart\">\r\n            <ResponsiveContainer width=\"100%\" height={500}>\r\n              <BarChart data={wordCount}>\r\n                <XAxis dataKey=\"word\" />\r\n                <YAxis />\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <Tooltip />\r\n                <Bar dataKey=\"count\" fill=\"#8884d8\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n          <div className=\"export\">\r\n            <button onClick={handleExport}>Export Data</button>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div className=\"submit\">\r\n          <button onClick={handleClick}>Submit</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubmitButton;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}